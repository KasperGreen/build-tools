{"version":3,"sources":["../../../src/configs/webpack/inferno.webpack.config.js"],"names":["spa","entry","rules","plugins","server","target","output","filename","libraryTarget","optimize","LimitChunkCountPlugin","maxChunks","BannerPlugin","banner","raw","entryOnly","externals","devtool","node","console","global","process","Buffer","__filename","__dirname"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AAOA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,8BAAqB;AAChCC,QAAO,kCAAe,6BAAf,GAAmC,sBADV;AAEhCC,QAAO,CACN,qBAAW,cAAX,EAA2B,EAA3B,EAA+B,CAAC,SAAD,CAA/B,kCAAyD,CAAC,cAAD,EAAiB,SAAjB,CAAzD,CADM,EAEN,uBAFM,EAGN,uBAHM,EAIN,kBAJM,CAFyB;AAQhCC,UAAS,CACR,yBADQ,EAER,GAAG,uBAFK,EAGR,GAAG,cAHK,EAIR,GAAG,iBAJK,EAKR,GAAG,wBALK,EAMR,GAAG,2BANK;AARuB,CAArB,CAAZ;;AAkBA,MAAMC,SAAS,8BAAqB;AACnCH,QAAO,yBAD4B;AAEnCI,SAAQ,MAF2B;AAGnCC,SAAQ;AACPC,6CADO;AAEPC,iBAAe;AAFR,EAH2B;AAOnCN,QAAO;AACN;AACA,sBAAW,cAAX,EAA2B,EAA3B,EAA+B,CAAC,SAAD,CAA/B,oCAFM,EAGN,uBAHM,EAIN,uBAJM,EAKN,kBALM,CAP4B;AAcnCC,UAAS;AACR;AACA;AACA,KAAI,kBAAQM,QAAR,CAAiBC,qBAArB,CAA2C,EAACC,WAAW,CAAZ,EAA3C,CAHQ;;AAKR;AACA;AACA,KAAI,kBAAQC,YAAZ,CAAyB;AACxBC,UAAQ,0CADgB;AAExBC,OAAK,IAFmB;AAGxBC,aAAW;AAHa,EAAzB,CAPQ,CAd0B;AA2BnCC,YAAW,CACV,oBADU,EAEV,oBAFU,EAGV,qCAHU,CA3BwB;AAgCnCC,UAAS,mCAAgB,yBAAhB,GAA4C,YAhClB;AAiCnCC,OAAM;AACLC,WAAS,KADJ;AAELC,UAAQ,KAFH;AAGLC,WAAS,KAHJ;AAILC,UAAQ,KAJH;AAKLC,cAAY,KALP;AAMLC,aAAW;AANN;AAjC6B,CAArB,CAAf;;kBA2Ce,kCAAe,CAACxB,GAAD,EAAMI,MAAN,CAAf,GAA+BJ,G","file":"inferno.webpack.config.js","sourcesContent":["import webpack from 'webpack'\nimport nodeExternals from 'webpack-node-externals'\nimport {\n\tisDevelopment,\n\tisIsomorphic,\n\tbabelEnvSpa,\n\tbabelEnvServer,\n\tfilenameServer\n} from '../prepare.build-tools.config'\nimport generalWebpackConfig from './general.webpack.config'\nimport babelRules from './rules/babel'\nimport { internalCSS, externalCSS } from './rules/css'\nimport { file } from './rules/files'\nimport { extractCSS } from './plugins/css'\nimport { HMR, extractVendors, uglify, getAssetsFile, getIndexHtmlFile } from './plugins/js'\nimport { spaEntry, isomorphicEntry, serverEntry } from './general/entry'\n\nconst spa = generalWebpackConfig({\n\tentry: isIsomorphic ? isomorphicEntry() : spaEntry(),\n\trules: [\n\t\tbabelRules(/\\.(jsx|js)?$/, [], ['inferno'], babelEnvSpa, [/node_modules/, /mobx.js/]),\n\t\tinternalCSS(),\n\t\texternalCSS(),\n\t\tfile()\n\t],\n\tplugins: [\n\t\textractVendors(),\n\t\t...extractCSS(),\n\t\t...HMR(),\n\t\t...uglify(),\n\t\t...getAssetsFile(),\n\t\t...getIndexHtmlFile()\n\t]\n})\n\nconst server = generalWebpackConfig({\n\tentry: serverEntry(),\n\ttarget: 'node',\n\toutput: {\n\t\tfilename: filenameServer,\n\t\tlibraryTarget: 'commonjs2'\n\t},\n\trules: [\n\t\t// Override babel-preset-env configuration for Node.js\n\t\tbabelRules(/\\.(js|jsx)?$/, [], ['inferno'], babelEnvServer),\n\t\tinternalCSS(),\n\t\texternalCSS(),\n\t\tfile()\n\t],\n\tplugins: [\n\t\t// Do not create separate chunks of the server bundle\n\t\t// https://webpack.github.io/docs/list-of-plugins.html#limitchunkcountplugin\n\t\tnew webpack.optimize.LimitChunkCountPlugin({maxChunks: 1}),\n\n\t\t// Adds a banner to the top of each generated chunk\n\t\t// https://webpack.github.io/docs/list-of-plugins.html#bannerplugin\n\t\tnew webpack.BannerPlugin({\n\t\t\tbanner: 'require(\"source-map-support\").install();',\n\t\t\traw: true,\n\t\t\tentryOnly: false,\n\t\t}),\n\t],\n\texternals: [\n\t\t/^\\.\\/assets\\.json$/,\n\t\t/^\\.\\/config\\.json$/,\n\t\tnodeExternals()\n\t],\n\tdevtool: isDevelopment ? 'cheap-module-source-map' : 'source-map',\n\tnode: {\n\t\tconsole: false,\n\t\tglobal: false,\n\t\tprocess: false,\n\t\tBuffer: false,\n\t\t__filename: false,\n\t\t__dirname: false,\n\t}\n})\n\nexport default isIsomorphic ? [spa, server] : spa\n"]}