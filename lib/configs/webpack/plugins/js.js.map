{"version":3,"sources":["../../../../src/configs/webpack/plugins/js.js"],"names":["HMR","HotModuleReplacementPlugin","NamedModulesPlugin","extractVendors","optimize","CommonsChunkPlugin","name","minChunks","module","test","resource","uglify","sourceMap","compress","screw_ie8","warnings","unused","dead_code","mangle","output","comments","analyze","defineEnv","DefinePlugin","NODE_ENV","DEBUG","__DEV__","__PROD__","__RHL__","getAssetsFile","path","filename","prettyPrint","getIndexHtmlFile","inject"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AAUO,MAAMA,oBAAM,MAAM;AACxB,uCAAmB;AAClB,SAAO,CACN,IAAI,kBAAQC,0BAAZ,EADM;AAEN;;AAEA,MAAI,kBAAQC,kBAAZ,EAJM,CAAP;AAOA;;AAED,QAAO,EAAP;AACA,CAZM;;AAcP;AACO,MAAMC,0CAAiB,MAC7B,IAAI,kBAAQC,QAAR,CAAiBC,kBAArB,CAAwC;AACvCC,OAAM,QADiC;AAEvCC,YAAWC,UAAU,eAAeC,IAAf,CAAoBD,OAAOE,QAA3B;AAFkB,CAAxC,CADM;;AAOA,MAAMC,0BAAS,MAAM;AAC3B,sCAAkB;AACjB,SAAO;AACN;AACA,sCAAmB;AAClBC,cAAW,IADO;AAElBC,aAAU;AACTC,eAAW,IADF,EACQ;AACjBC,0CAFS;AAGTC,YAAQ,IAHC;AAITC,eAAW;AAJF,IAFQ;AAQlBC,WAAQ;AACPJ,eAAW;AADJ,IARU;AAWlBK,WAAQ;AACPC,cAAU,KADH;AAEPN,eAAW;AAFJ;AAXU,GAAnB,CAFM,CAAP;AAmBA;;AAED,QAAO,EAAP;AACA,CAxBM;;AA0BP;AACA;AACO,MAAMO,4BAAU,MAAM;AAC5B,mCAAe;AACd,SAAO,CAAC,iDAAD,CAAP;AACA;;AAED,QAAO,EAAP;AACA,CANM;;AAQP;AACO,MAAMC,gCAAY,MACxB,IAAI,kBAAQC,YAAZ,CAAyB;AACxB,yBAAwB,uBAAIC,QADJ;AAExB,sBAAqB,uBAAIC,KAFD;AAGxBC,UAAS,uBAAIA,OAHW;AAIxBC,WAAU,uBAAIA,QAJU;AAKxBC,UAAS,uBAAIA;AALW,CAAzB,CADM;;AAUP;AACA;AACO,MAAMC,wCAAgB,MAAM;AAClC,sCAAkB;AACjB,SAAO,CACN,kCAAiB;AAChBC,wCADgB;AAEhBC,aAAU,aAFM;AAGhBC,gBAAa;AAHG,GAAjB,CADM,CAAP;AAOA;;AAED,QAAO,EAAP;AACA,CAZM;AAaA,MAAMC,8CAAmB,MAAM;AACrC,KAAI,gCAAJ,EAAmB;AAClB,SAAO,CACN,gCAAsB;AACrBF,aAAU,YADW;AAErBG,WAAQ;AAFa,GAAtB,CADM,CAAP;AAMA;;AAED,QAAO,EAAP;AACA,CAXM","file":"js.js","sourcesContent":["import webpack from 'webpack'\nimport UglifyJSPlugin from 'uglifyjs-webpack-plugin'\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer'\nimport AssetsPlugin from 'assets-webpack-plugin'\nimport HtmlWebpackPlugin from 'html-webpack-plugin'\nimport {\n\tisDevelopment,\n\tisProduction,\n\tisVerbose,\n\tisAnalyze,\n\tisIsomorphic,\n\tenv,\n\toutputServer\n} from '../../prepare.build-tools.config'\n\nexport const HMR = () => {\n\tif (isDevelopment) {\n\t\treturn [\n\t\t\tnew webpack.HotModuleReplacementPlugin(),\n\t\t\t// enable HMR globally\n\n\t\t\tnew webpack.NamedModulesPlugin(),\n\t\t\t// prints more readable module names in the browser console on HMR updates\n\t\t]\n\t}\n\n\treturn []\n}\n\n// https://webpack.js.org/plugins/commons-chunk-plugin/\nexport const extractVendors = () => (\n\tnew webpack.optimize.CommonsChunkPlugin({\n\t\tname: 'vendor',\n\t\tminChunks: module => /node_modules/.test(module.resource),\n\t})\n)\n\nexport const uglify = () => {\n\tif (isProduction) {\n\t\treturn [\n\t\t\t// https://webpack.js.org/plugins/uglifyjs-webpack-plugin/\n\t\t\tnew UglifyJSPlugin({\n\t\t\t\tsourceMap: true,\n\t\t\t\tcompress: {\n\t\t\t\t\tscrew_ie8: true, // React doesn't support IE8\n\t\t\t\t\twarnings: isVerbose,\n\t\t\t\t\tunused: true,\n\t\t\t\t\tdead_code: true,\n\t\t\t\t},\n\t\t\t\tmangle: {\n\t\t\t\t\tscrew_ie8: true,\n\t\t\t\t},\n\t\t\t\toutput: {\n\t\t\t\t\tcomments: false,\n\t\t\t\t\tscrew_ie8: true,\n\t\t\t\t},\n\t\t\t}),\n\t\t]\n\t}\n\n\treturn []\n}\n\n// Webpack Bundle Analyzer\n// https://github.com/th0r/webpack-bundle-analyzer\nexport const analyze = () => {\n\tif (isAnalyze) {\n\t\treturn [new BundleAnalyzerPlugin()]\n\t}\n\n\treturn []\n}\n\n// https://webpack.js.org/plugins/define-plugin/\nexport const defineEnv = () => (\n\tnew webpack.DefinePlugin({\n\t\t'process.env.NODE_ENV': env.NODE_ENV,\n\t\t'process.env.DEBUG': env.DEBUG,\n\t\t__DEV__: env.__DEV__,\n\t\t__PROD__: env.__PROD__,\n\t\t__RHL__: env.__RHL__\n\t})\n)\n\n// Emit a file with assets paths\n// https://github.com/sporto/assets-webpack-plugin#options\nexport const getAssetsFile = () => {\n\tif (isIsomorphic) {\n\t\treturn [\n\t\t\tnew AssetsPlugin({\n\t\t\t\tpath: outputServer,\n\t\t\t\tfilename: 'assets.json',\n\t\t\t\tprettyPrint: true,\n\t\t\t})\n\t\t]\n\t}\n\n\treturn []\n}\nexport const getIndexHtmlFile = () => {\n\tif (!isIsomorphic) {\n\t\treturn [\n\t\t\tnew HtmlWebpackPlugin({\n\t\t\t\tfilename: 'index.html',\n\t\t\t\tinject: 'head'\n\t\t\t})\n\t\t]\n\t}\n\n\treturn []\n}"]}