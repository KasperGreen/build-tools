{"version":3,"sources":["../../../src/configs/validate-config/proxy.js"],"names":["defaultValue","proxy","getDefaultValue","proxyName","hasOwnProperty","validate","string","trim","min","required","proxyNameError","error","proxyValueError","console","message","log","bold","yellow","JSON","stringify","cyan"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,MAAMA,eAAe;AACpB,SAAQ;AADY,CAArB;;kBAGe,CAACC,KAAD,EAAQC,kBAAkB,KAA1B,KAAoC;AAClD,KAAIA,eAAJ,EAAqB;AACpB,SAAOF,YAAP;AACA;;AAED,MAAK,IAAIG,SAAT,IAAsBF,KAAtB,EAA6B;AAC5B,MAAIA,MAAMG,cAAN,CAAqBD,SAArB,CAAJ,EAAqC;AAAA,uBACJ,cAAIE,QAAJ,CAAaF,SAAb,EAAwB,cAAIG,MAAJ,GAAaC,IAAb,GAAoBC,GAApB,CAAwB,CAAxB,EAA2BC,QAA3B,EAAxB,CADI;;AAAA,SACtBC,cADsB,iBAC7BC,KAD6B;;AAAA,wBAEH,cAAIN,QAAJ,CAAaJ,MAAME,SAAN,CAAb,EAA+B,cAAIG,MAAJ,GAAaC,IAAb,GAAoBC,GAApB,CAAwB,CAAxB,EAA2BC,QAA3B,EAA/B,CAFG;;AAAA,SAEtBG,eAFsB,kBAE7BD,KAF6B;;;AAIpC,OAAID,mBAAmB,IAAvB,EAA6B;AAC5BG,YAAQF,KAAR,CAAcD,eAAeI,OAA7B;AACA;AACD,OAAIF,oBAAoB,IAAxB,EAA8B;AAC7BC,YAAQF,KAAR,CAAcC,gBAAgBE,OAA9B;AACA;AACD,OAAIJ,mBAAmB,IAAnB,IAA2BE,oBAAoB,IAAnD,EAAyD;AACxDC,YAAQE,GAAR,CAAY,gBAAMC,IAAN,CAAWC,MAAX,CAAmB,mBAAkBC,KAAKC,SAAL,CAAelB,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAA+B,GAApE,CAAZ;AACAY,YAAQE,GAAR,CAAY,gBAAMC,IAAN,CAAWI,IAAX,CAAiB,kBAAiBF,KAAKC,SAAL,CAAenB,YAAf,EAA6B,IAA7B,EAAmC,CAAnC,CAAsC,GAAxE,CAAZ;AACA,WAAOA,YAAP;AACA;AACD;AACD;;AAED,QAAOC,KAAP;AACA,C","file":"proxy.js","sourcesContent":["import Joi from 'joi'\nimport chalk from 'chalk'\n\nconst defaultValue = {\n\t'/api': 'http://localhost:5000'\n}\nexport default (proxy, getDefaultValue = false) => {\n\tif (getDefaultValue) {\n\t\treturn defaultValue\n\t}\n\n\tfor (let proxyName in proxy) {\n\t\tif (proxy.hasOwnProperty(proxyName)) {\n\t\t\tconst {error: proxyNameError} = Joi.validate(proxyName, Joi.string().trim().min(3).required())\n\t\t\tconst {error: proxyValueError} = Joi.validate(proxy[proxyName], Joi.string().trim().min(6).required())\n\n\t\t\tif (proxyNameError !== null) {\n\t\t\t\tconsole.error(proxyNameError.message)\n\t\t\t}\n\t\t\tif (proxyValueError !== null) {\n\t\t\t\tconsole.error(proxyValueError.message)\n\t\t\t}\n\t\t\tif (proxyNameError !== null || proxyValueError !== null) {\n\t\t\t\tconsole.log(chalk.bold.yellow(`Current value: \"${JSON.stringify(proxy, null, 2)}\"`))\n\t\t\t\tconsole.log(chalk.bold.cyan(`We are using: \"${JSON.stringify(defaultValue, null, 2)}\"`))\n\t\t\t\treturn defaultValue\n\t\t\t}\n\t\t}\n\t}\n\n\treturn proxy\n}"]}