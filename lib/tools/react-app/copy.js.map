{"version":3,"sources":["../../../src/tools/react-app/copy.js"],"names":["resolve","JSON","stringify","private","engines","dependencies","scripts","start","port","host","serverWasRunDetectString","copy"],"mappings":";;;;;;;8BAcA,aAAuB;AACtB,uCAAkB;AACjB,SAAM,iDAAN;AACA,SAAM,mBAAU,eAAKA,OAAL,kCAA2B,cAA3B,CAAV,EAAsDC,KAAKC,SAAL,CAAe;AAC1EC,aAAS,IADiE;AAE1EC,uCAF0E;AAG1EC,iDAH0E;AAI1EC,aAAS;AACRC,YAAO;AADC;AAJiE,IAAf,EAOzD,IAPyD,EAOnD,CAPmD,CAAtD,CAAN;AAQA,SAAM,mBAAU,eAAKP,OAAL,kCAA2B,aAA3B,CAAV,EAAqDC,KAAKC,SAAL,CAAe;AACzEM,iCADyE;AAEzEC,iCAFyE;AAGzEC;AAHyE,IAAf,EAIxD,IAJwD,EAIlD,CAJkD,CAArD,CAAN;AAKA,SAAM,iBAAQ,eAAKV,OAAL,6BAAuB,MAAD,gCAAoB,EAA1C,CAAR,EAAsD,eAAKA,OAAL,mEAAtD,CAAN;AACA;AACD,E;;iBAlBcW,I;;;;;AAdf;;;;AACA;;AACA;;;;;;kBAgCeA,I","file":"copy.js","sourcesContent":["import path from 'path'\nimport { makeDir, copyDir, writeFile } from '../lib/fs'\nimport {\n\tisIsomorphic,\n\toutputServer,\n\tcontext,\n\tdependencies,\n\tengines,\n\tpublicDirName,\n\tport,\n\thost,\n\tserverWasRunDetectString\n} from '../../configs/prepare.build-tools.config'\n\nasync function copy () {\n\tif (isIsomorphic) {\n\t\tawait makeDir(outputServer)\n\t\tawait writeFile(path.resolve(outputServer, 'package.json'), JSON.stringify({\n\t\t\tprivate: true,\n\t\t\tengines,\n\t\t\tdependencies,\n\t\t\tscripts: {\n\t\t\t\tstart: 'node server.js',\n\t\t\t},\n\t\t}, null, 2))\n\t\tawait writeFile(path.resolve(outputServer, 'config.json'), JSON.stringify({\n\t\t\tport,\n\t\t\thost,\n\t\t\tserverWasRunDetectString\n\t\t}, null, 2))\n\t\tawait copyDir(path.resolve(context, `../${publicDirName}`), path.resolve(outputServer, publicDirName))\n\t}\n}\n\nexport default copy"]}